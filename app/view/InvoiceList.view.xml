<mvc:View
  controllerName="app.controller.InvoiceList"
  xmlns="sap.m"
  xmlns:mvc="sap.ui.core.mvc">
  <List
    id="invoiceList"
    class="sapUiResponsiveMargin"
    width="auto"
    items="{/invoices}">
    <headerToolbar>
      <Toolbar>
        <Title text="{i18n>invoiceListTitle}"/>
        <ToolbarSpacer/>
        <SearchField width="50%" search="filterInvoices"/>
      </Toolbar>
    </headerToolbar>
    <items>
      <ObjectListItem
        title="{quantity} x {productName}"
        number="{
          parts : [
            {
              path : 'extendedPrice'
            },
            {
              path : 'viewModel>/currency'
            }
          ],
          type : 'sap.ui.model.type.Currency',
          formatOptions : {
            showMeasure : false
          }
        }"
        numberUnit="{viewModel>/currency}"
        numberState="{= ${extendedPrice} > 50 ? 'Error' : 'Success' }">
          <firstStatus>
            <ObjectStatus
              text="{
                path : 'status',
                formatter: '.invoiceFormatter.statusText'
              }"/>
          </firstStatus>
        </ObjectListItem>
    </items>
  </List>
</mvc:View>